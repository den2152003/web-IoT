extends ../../layout/default.pug
include ../../mixin/alert.pug

block main
    //- Ph·∫ßn n·ªÅn Gradient nh·∫π t·∫°o chi·ªÅu s√¢u cho trang
    .container-fluid.py-3(style="background: linear-gradient(180deg, #f8f9fa 0%, #e9ecef 100%); min-height: 100vh;")
        .container
            +alert-success(5000)
            +alert-error(5000)
            
            //- Header thi·∫øt k·∫ø t·ªëi gi·∫£n, hi·ªán ƒë·∫°i
            .row.justify-content-center.mb-3
                .col-md-8.text-center
                    .display-4.text-primary
                        i.fas.fa-network-wired.animate__animated.animate__fadeInDown
                    h4.font-weight-bold.text-dark Th√™m M·ªõi D·ª± √Ån
                    p.medium.lead.text-muted Thi·∫øt l·∫≠p kh√¥ng gian qu·∫£n l√Ω v√† k·∫øt n·ªëi Gateway trung t√¢m v√†o h·ªá th·ªëng

            .row.justify-content-center
                .col-xl-10
                    .card.border-0.shadow-lg.overflow-hidden(style="border-radius: 20px;")
                        .row.no-gutters
                            //- C·ªôt tr√°i: H∆∞·ªõng d·∫´n & T√¨m ki·∫øm Gateway (Dark Sidebar style)
                            .col-lg-4.bg-dark.p-4.text-white
                                h5.mb-4.text-info 
                                    i.fas.fa-search.mr-2
                                    | B∆∞·ªõc 1: Qu√©t Gateway
                                p.small.text-secondary T√¨m ki·∫øm ƒë·ªãa ch·ªâ WiFi c·ªßa thi·∫øt b·ªã Gateway ƒë·ªÉ x√°c ƒë·ªãnh m√£ ƒë·ªãnh danh duy nh·∫•t (ID).

                                form(id="form-search-wifiName" class="mt-4")
                                    .form-group
                                        label.text-light.small T√™n WiFi Gateway (SSID)
                                        .input-group.shadow-sm
                                            input.form-control.border-0(
                                                type="text" 
                                                id="wifiName" 
                                                name="wifiName"
                                                placeholder="VD: Gateway_..."
                                                value=wifiName
                                                required
                                                text-wifiName
                                                style="border-radius: 10px 0 0 10px; height: 45px;"
                                            ) 
                                            .input-group-append
                                                button.btn.btn-info(type="submit" button-searchWifi style="border-radius: 0 10px 10px 0;")
                                                    i.fas.fa-sync-alt

                                .form-group.mt-4
                                    label.text-light.small K·∫øt qu·∫£ t√¨m th·∫•y
                                    select(name="gatewayId" id="selectGateway" class="custom-select border-0 shadow-sm" style="border-radius: 10px; height: 45px;")
                                        option(value="" disabled selected) --- Ch·ªçn Gateway ---
                                        each item in gateway 
                                            option(value=item.gatewayId) üîó #{item.wifiName} - #{item.gatewayId}

                                //- Decorate th√™m l∆∞u √Ω
                                .mt-5.d-none.d-lg-block.opacity-50
                                    .p-3.border.border-secondary.rounded(style="border-style: dashed !important;")
                                        small.d-block.mb-2 üí° L∆∞u √Ω:
                                        small ƒê·∫£m b·∫£o thi·∫øt b·ªã Gateway ƒë√£ ƒë∆∞·ª£c c·∫•p ngu·ªìn v√† ƒëang ph√°t t√≠n hi·ªáu WiFi tr∆∞·ªõc khi qu√©t.

                            //- C·ªôt ph·∫£i: Form nh·∫≠p li·ªáu D·ª± √Ån (Clean White style)
                            .col-lg-8.bg-white.p-4.p-md-5
                                h5.mb-4.text-dark 
                                    i.fas.fa-pen-fancy.mr-2.text-primary
                                    | B∆∞·ªõc 2: Th√¥ng tin d·ª± √°n

                                form(
                                    action=`/project/create`
                                    id="form-create-project"
                                    method="POST"
                                )
                                    //- Hidden Input ƒë·ªÉ nh·∫≠n ID t·ª´ select b√™n tr√°i
                                    input(type="hidden" name="gatewayId" id="hiddenGatewayId" value="")

                                    .row
                                        .col-md-6
                                            .form-group.mb-4
                                                label.font-weight-bold T√™n d·ª± √°n
                                                input.form-control.form-control-md.bg-light.border-0(
                                                    type="text"
                                                    name="projectName"
                                                    id="projectName"
                                                    placeholder="VD: CƒÉn h·ªô Vinhomes 501"
                                                    required
                                                    style="border-radius: 12px;"
                                                )
                                        .col-md-6
                                            .form-group.mb-4
                                                label.font-weight-bold T√™n ƒë·∫∑t cho Gateway
                                                input.form-control.form-control-md.bg-light.border-0(
                                                    type="text"
                                                    name="gatewayName"
                                                    id="gatewayName"
                                                    placeholder="VD: Gateway Ph√≤ng Kh√°ch"
                                                    required
                                                    style="border-radius: 12px;"
                                                )
                                    
                                    .form-group.mb-4
                                        label.font-weight-bold V·ªã tr√≠ d·ª± √°n
                                        .input-group
                                            input.form-control.form-control-md.bg-light.border-0(
                                                type="text" 
                                                id="address"
                                                name="address" 
                                                placeholder="Nh·∫≠p t·ªça ƒë·ªô ho·∫∑c ƒë·ªãa ch·ªâ"
                                                required
                                                style="border-radius: 12px 0 0 12px;"
                                            )
                                            .input-group-append
                                                a.btn.btn-light.border-0.d-flex.align-items-center(
                                                    href="https://www.google.com/maps/search/" 
                                                    target="_blank" 
                                                    id="map-link-button"
                                                    style="border-radius: 0 12px 12px 0; background-color: #f1f3f5;"
                                                )
                                                    i.fas.fa-map-marked-alt.text-danger

                                    .form-group.mb-4
                                        label.font-weight-bold M√¥ t·∫£ d·ª± √°n
                                        textarea.form-control.bg-light.border-0(
                                            id="desc"
                                            name="description"
                                            rows="4"
                                            placeholder="Ghi ch√∫ chi ti·∫øt v·ªÅ d·ª± √°n n√†y..."
                                            style="border-radius: 12px;"
                                        )

                                    .mt-5.d-flex.justify-content-between.align-items-center
                                        a.btn.btn-link.text-muted(href="/projects")
                                            i.fas.fa-chevron-left.mr-2
                                            | Quay l·∫°i danh s√°ch
                                        
                                        button.btn.btn-primary.btn-lg.px-5(
                                            type="submit"
                                            style="border-radius: 15px; box-shadow: 0 10px 20px rgba(0,123,255,0.2); font-weight: 600;"
                                        )
                                            i.fas.fa-plus-circle.mr-2
                                            | T·∫°o M·ªõi D·ª± √Ån